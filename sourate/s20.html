<html>
  <head>
    
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sourate Ta-Ha - Exploration Interactive</title>
    <style>
      body {
        font-family: "Noto Sans", sans-serif;
        background-color: #f0f4f8;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1,
      h2 {
        color: #2c3e50;
        text-align: center;
      }
      .container {
        background-color: #ffffff;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
        width: 90%;
        max-width: 800px;
      }
      .player-container {
        text-align: center;
        margin-bottom: 30px;
      }
      audio {
        width: 100%;
        margin-top: 15px;
      }
      .info {
        text-align: center;
        color: #34495e;
        margin-bottom: 20px;
      }
      .arabic {
        font-family: "Amiri", serif;
        font-size: 28px;
        margin-top: 15px;
        text-align: right;
        direction: rtl;
        line-height: 1.8;
      }
      .verse-container {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 15px;
      }
      .verse {
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid #ecf0f1;
      }
      .verse-number {
        font-weight: bold;
        color: #3498db;
        margin-right: 10px;
      }
      .translation {
        font-style: italic;
        color: #7f8c8d;
        margin-top: 10px;
      }
      #loading {
        text-align: center;
        color: #3498db;
        font-size: 18px;
        margin-top: 20px;
      }
      .navigation {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: 500px;
        margin-top: 30px;
      }
      .nav-button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }
      .nav-button:hover {
        background-color: #2980b9;
      }
      .taha-scene {
        width: 100%;
        height: 300px;
        position: relative;
        overflow: hidden;
        margin-bottom: 20px;
        background: linear-gradient(to bottom, #1c2331 0%, #34495e 100%);
        border-radius: 15px;
      }
      .moses-staff {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 10px;
        height: 200px;
        background-color: #8b4513;
        border-radius: 5px;
      }
      .fire {
        position: absolute;
        bottom: 200px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 60px;
      }
      .flame {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 60px;
        background-color: #ff4500;
        border-radius: 50% 0 50% 50%;
        animation: flicker 0.5s infinite alternate;
      }
      @keyframes flicker {
        0% {
          transform: translateX(-50%) scale(1);
        }
        100% {
          transform: translateX(-50%) scale(1.1);
        }
      }
      .story-section {
        margin-top: 30px;
        text-align: justify;
      }
      .story-toggle {
        background-color: #2ecc71;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        margin-bottom: 15px;
      }
      .story-content {
        display: none;
      }
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }
        .arabic {
          font-size: 24px;
        }
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Amiri:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Sourate Ta-Ha (طه)</h1>
    <div class="container">
      <div class="taha-scene">
        <div class="moses-staff"></div>
        <div class="fire">
          <div class="flame"></div>
        </div>
      </div>
      <div class="player-container">
        <h2>Écouter la récitation</h2>
        <audio controls>
          <source
            src="https://download.quranicaudio.com/quran/mishaari_raashid_al_3afaasee/020.mp3"
            type="audio/mpeg"
          />
          Votre navigateur ne supporte pas l'élément audio.
        </audio>
      </div>
      <div class="info">
        <p>Sourate Ta-Ha - سورة طه</p>
        <p>Récitée par Mishary Rashid Alafasy</p>
        <p class="arabic">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
      </div>

      <div class="verse-container">
        <h2>Lire les versets</h2>
        <div id="loading">Chargement des versets...</div>
        <div id="verses"></div>
      </div>

      <div class="story-section">
        <button class="story-toggle" onclick="toggleStory()">
          Découvrir l'histoire de Moïse
        </button>
        <div class="story-content">
          <h3>L'histoire de Moïse dans la sourate Ta-Ha</h3>
          <p>
            La sourate Ta-Ha raconte l'histoire fascinante de Moïse (Moussa),
            l'un des plus grands prophètes de l'Islam. Elle commence par la
            rencontre de Moïse avec Allah au Mont Sinaï, où il reçoit sa mission
            prophétique.
          </p>
          <p>
            Allah s'adresse à Moïse, lui ordonnant d'aller vers Pharaon pour
            l'appeler à la vraie foi. Moïse, conscient de la difficulté de cette
            tâche, demande à Allah de l'aider en lui accordant l'éloquence et en
            envoyant son frère Aaron (Haroun) comme assistant.
          </p>
          <p>
            La sourate décrit ensuite la confrontation entre Moïse et Pharaon,
            les miracles accordés à Moïse (comme la transformation de son bâton
            en serpent), et la défaite des magiciens de Pharaon qui finissent
            par croire en Allah.
          </p>
          <p>
            Cette histoire souligne l'importance de la foi, de la persévérance
            face à l'adversité, et de la confiance en Allah. Elle montre comment
            Allah soutient Ses messagers et comment la vérité triomphe toujours
            sur le mensonge.
          </p>
        </div>
      </div>
    </div>

    <div class="navigation">
      <a href="s19.html" class="nav-button"
        >Sourate précédente</a
      >
      <a href="s21.html" class="nav-button"
        >Sourate suivante</a
      >
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const audio = document.querySelector("audio");
        const versesContainer = document.getElementById("verses");
        const loadingElement = document.getElementById("loading");

        audio.addEventListener("play", function () {
          console.log("La récitation de la sourate Ta-Ha a commencé");
        });

        audio.addEventListener("pause", function () {
          console.log("La récitation de la sourate Ta-Ha a été mise en pause");
        });

        audio.addEventListener("ended", function () {
          console.log("La récitation de la sourate Ta-Ha est terminée");
        });

        async function loadVerses() {
          try {
            const [arabicResponse, frenchResponse] = await Promise.all([
              axios.get("https://api.alquran.cloud/v1/surah/20"),
              axios.get("https://api.alquran.cloud/v1/surah/20/fr.hamidullah"),
            ]);

            const arabicVerses = arabicResponse.data.data.ayahs;
            const frenchVerses = frenchResponse.data.data.ayahs;

            loadingElement.style.display = "none";

            arabicVerses.forEach((verse, index) => {
              const verseElement = document.createElement("div");
              verseElement.className = "verse";
              verseElement.innerHTML = `
                        <p class="arabic"><span class="verse-number">${verse.numberInSurah}.</span> ${verse.text}</p>
                        <p class="translation">${frenchVerses[index].text}</p>
                    `;
              versesContainer.appendChild(verseElement);
            });
          } catch (error) {
            console.error("Erreur lors du chargement des versets:", error);
            loadingElement.textContent =
              "Erreur lors du chargement des versets. Veuillez réessayer.";
          }
        }

        loadVerses();
      });

      function toggleStory() {
        const storyContent = document.querySelector(".story-content");
        const storyToggle = document.querySelector(".story-toggle");
        if (
          storyContent.style.display === "none" ||
          storyContent.style.display === ""
        ) {
          storyContent.style.display = "block";
          storyToggle.textContent = "Masquer l'histoire de Moïse";
        } else {
          storyContent.style.display = "none";
          storyToggle.textContent = "Découvrir l'histoire de Moïse";
        }
      }
    </script>
  </body>
</html>
