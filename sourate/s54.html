<html>
  <head>
  
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sourate Al-Qamar (La Lune) - Exploration Interactive</title>
    <style>
      body {
        font-family: "Noto Sans", sans-serif;
        background-color: #0a0a1a;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #e0e0e0;
      }
      h1,
      h2 {
        color: #c2c2f0;
        text-align: center;
      }
      .container {
        background-color: #1a1a2e;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        margin-top: 20px;
        width: 90%;
        max-width: 800px;
      }
      .player-container {
        text-align: center;
        margin-bottom: 30px;
      }
      audio {
        width: 100%;
        margin-top: 15px;
      }
      .info {
        text-align: center;
        color: #a0a0d0;
        margin-bottom: 20px;
      }
      .arabic {
        font-family: "Scheherazade", serif;
        font-size: 28px;
        margin-top: 15px;
        text-align: right;
        direction: rtl;
        line-height: 1.8;
      }
      .verse-container {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 15px;
      }
      .verse {
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid #2a2a4a;
      }
      .verse-number {
        font-weight: bold;
        color: #c2c2f0;
        margin-right: 10px;
      }
      .translation {
        font-style: italic;
        color: #a0a0d0;
        margin-top: 10px;
      }
      #loading {
        text-align: center;
        color: #c2c2f0;
        font-size: 18px;
        margin-top: 20px;
      }
      .navigation {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: 500px;
        margin-top: 30px;
      }
      .nav-button {
        background-color: #4a4a7f;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }
      .nav-button:hover {
        background-color: #5a5a9f;
      }
      .interactive-section {
        background-color: #2a2a4a;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .interactive-item {
        background-color: #1a1a2e;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        cursor: pointer;
      }
      .interactive-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(194, 194, 240, 0.3);
      }
      .interactive-item h3 {
        margin-top: 0;
        color: #c2c2f0;
      }
      .reflection-section {
        background-color: #2a2a4a;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .reflection-title {
        font-weight: bold;
        color: #c2c2f0;
        margin-bottom: 10px;
      }
      #reflection-content {
        font-style: italic;
        color: #e0e0e0;
      }
      #surah-visual {
        width: 100%;
        height: 300px;
        margin: 20px 0;
        border: 1px solid #4a4a7f;
        border-radius: 5px;
      }
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }
        .arabic {
          font-size: 24px;
        }
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Scheherazade:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Sourate Al-Qamar (La Lune)</h1>
    <div class="container">
      <div class="player-container">
        <h2>Écouter la récitation</h2>
        <audio controls>
          <source
            src="https://download.quranicaudio.com/quran/mishaari_raashid_al_3afaasee/054.mp3"
            type="audio/mpeg"
          />
          Votre navigateur ne supporte pas l'élément audio.
        </audio>
      </div>
      <div class="info">
        <p>Sourate Al-Qamar - سورة القمر</p>
        <p>Récitée par Mishary Rashid Alafasy</p>
        <p class="arabic">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
      </div>

      <svg
        id="surah-visual"
        viewBox="0 0 100 100"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <radialGradient
            id="moonGlow"
            cx="50%"
            cy="50%"
            r="50%"
            fx="50%"
            fy="50%"
          >
            <stop offset="0%" style="stop-color: #ffffff; stop-opacity: 1" />
            <stop offset="100%" style="stop-color: #c2c2f0; stop-opacity: 0" />
          </radialGradient>
        </defs>
        <rect x="0" y="0" width="100" height="100" fill="#0a0a1a" />

        <!-- Stars -->
        <g id="stars"></g>

        <!-- Moon -->
        <circle cx="50" cy="50" r="20" fill="url(#moonGlow)">
          <animate
            attributeName="r"
            values="20;22;20"
            dur="5s"
            repeatCount="indefinite"
          />
        </circle>

        <!-- Crescent shape -->
        <path d="M50,30 a20,20 0 0,0 0,40 a15,15 0 0,1 0,-40" fill="#0a0a1a">
          <animateTransform
            attributeName="transform"
            attributeType="XML"
            type="rotate"
            from="0 50 50"
            to="360 50 50"
            dur="30s"
            repeatCount="indefinite"
          />
        </path>

        <!-- Arabic text for "Al-Qamar" -->
        <text
          x="50"
          y="90"
          font-family="Scheherazade"
          font-size="10"
          fill="#c2c2f0"
          text-anchor="middle"
        >
          القمر
        </text>
      </svg>

      <div class="interactive-section fade-in">
        <h2>Thèmes principaux de la sourate Al-Qamar</h2>
        <div
          class="interactive-item"
          onclick="showReflection('moon_splitting')"
        >
          <h3>1. La Scission de la Lune</h3>
          <p>Miracle prophétique et signe de l'Heure.</p>
        </div>
        <div
          class="interactive-item"
          onclick="showReflection('historical_lessons')"
        >
          <h3>2. Leçons Historiques</h3>
          <p>Récits des peuples anciens et leurs destins.</p>
        </div>
        <div
          class="interactive-item"
          onclick="showReflection('day_of_judgment')"
        >
          <h3>3. Le Jour du Jugement</h3>
          <p>Description de l'Heure et ses événements.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('divine_power')">
          <h3>4. La Puissance Divine</h3>
          <p>Manifestations de la toute-puissance d'Allah.</p>
        </div>
        <div
          class="interactive-item"
          onclick="showReflection('quran_significance')"
        >
          <h3>5. L'Importance du Coran</h3>
          <p>Le rôle du Coran comme rappel et avertissement.</p>
        </div>
      </div>

      <div class="reflection-section fade-in">
        <h2 class="reflection-title">Réflexions sur la sourate Al-Qamar</h2>
        <p id="reflection-content">
          Cliquez sur un thème ci-dessus pour explorer son contenu dans la
          sourate Al-Qamar.
        </p>
      </div>

      <div class="verse-container">
        <h2>Lire les versets</h2>
        <div id="loading">Chargement des versets...</div>
        <div id="verses"></div>
      </div>
    </div>

    <div class="navigation">
      <a href="s53.html" class="nav-button"
        >Sourate précédente</a
      >
      <a href="s55.html" class="nav-button"
        >Sourate suivante</a
      >
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const audio = document.querySelector("audio");
        const versesContainer = document.getElementById("verses");
        const loadingElement = document.getElementById("loading");

        audio.addEventListener("play", function () {
          console.log("La récitation de la sourate Al-Qamar a commencé");
        });

        audio.addEventListener("pause", function () {
          console.log(
            "La récitation de la sourate Al-Qamar a été mise en pause"
          );
        });

        audio.addEventListener("ended", function () {
          console.log("La récitation de la sourate Al-Qamar est terminée");
        });

        async function loadVerses() {
          try {
            const [arabicResponse, frenchResponse] = await Promise.all([
              axios.get("https://api.alquran.cloud/v1/surah/54"),
              axios.get("https://api.alquran.cloud/v1/surah/54/fr.hamidullah"),
            ]);

            const arabicVerses = arabicResponse.data.data.ayahs;
            const frenchVerses = frenchResponse.data.data.ayahs;

            loadingElement.style.display = "none";

            arabicVerses.forEach((verse, index) => {
              const verseElement = document.createElement("div");
              verseElement.className = "verse fade-in";
              verseElement.innerHTML = `
                        <p class="arabic"><span class="verse-number">${verse.numberInSurah}.</span> ${verse.text}</p>
                        <p class="translation">${frenchVerses[index].text}</p>
                    `;
              versesContainer.appendChild(verseElement);
            });

            // Trigger fade-in effect for verses
            setTimeout(() => {
              document
                .querySelectorAll(".verse")
                .forEach((el) => el.classList.add("visible"));
            }, 100);
          } catch (error) {
            console.error("Erreur lors du chargement des versets:", error);
            loadingElement.textContent =
              "Erreur lors du chargement des versets. Veuillez réessayer.";
          }
        }

        loadVerses();

        // Intersection Observer for fade-in effect
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          { threshold: 0.1 }
        );

        document
          .querySelectorAll(".fade-in")
          .forEach((el) => observer.observe(el));

        // Generate stars
        const starsGroup = document.getElementById("stars");
        for (let i = 0; i < 50; i++) {
          const star = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "circle"
          );
          star.setAttribute("cx", Math.random() * 100);
          star.setAttribute("cy", Math.random() * 100);
          star.setAttribute("r", Math.random() * 0.5 + 0.1);
          star.setAttribute("fill", "#ffffff");

          const animateBrightness = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "animate"
          );
          animateBrightness.setAttribute("attributeName", "opacity");
          animateBrightness.setAttribute("values", "0;1;0");
          animateBrightness.setAttribute("dur", Math.random() * 3 + 2 + "s");
          animateBrightness.setAttribute("repeatCount", "indefinite");

          star.appendChild(animateBrightness);
          starsGroup.appendChild(star);
        }
      });

      function showReflection(theme) {
        const reflectionContent = document.getElementById("reflection-content");
        switch (theme) {
          case "moon_splitting":
            reflectionContent.innerHTML =
              "La sourate Al-Qamar s'ouvre sur le miracle de la scission de la lune, un événement extraordinaire qui a marqué le ministère du Prophète Muhammad (paix sur lui). Ce phénomène est présenté comme un signe clair de la véracité de sa mission prophétique et un avertissement de l'approche de l'Heure. Cependant, malgré la grandeur de ce miracle, la sourate souligne que de nombreux témoins l'ont rejeté, le qualifiant de 'magie continue'. Cette réaction illustre la difficulté pour certains d'accepter la vérité, même face à des preuves évidentes.";
            break;
          case "historical_lessons":
            reflectionContent.innerHTML =
              "Al-Qamar présente une série de récits historiques concernant des peuples anciens qui ont rejeté leurs prophètes. Ces histoires incluent celles du peuple de Noé, des 'Ad, des Thamud, du peuple de Loth et des gens de Pharaon. Chaque récit est bref mais puissant, soulignant les conséquences désastreuses de la désobéissance et du rejet des avertissements divins. La répétition de la phrase 'Nous avons certes rendu le Coran facile pour la méditation. Y a-t-il quelqu'un pour réfléchir?' après chaque récit invite à tirer des leçons de ces événements passés.";
            break;
          case "day_of_judgment":
            reflectionContent.innerHTML =
              "La sourate offre des descriptions vivantes et saisissantes du Jour du Jugement. Elle dépeint les gens comme 'éparpillés comme des sauterelles' et 'les yeux baissés, sortant des tombes'. Ces images puissantes visent à éveiller la conscience des auditeurs sur la réalité et l'imminence de ce jour. La sourate souligne que ce sera un moment de grande difficulté pour les mécréants, décrit comme 'un jour difficile', tandis que les croyants seront honorés et récompensés.";
            break;
          case "divine_power":
            reflectionContent.innerHTML =
              "Tout au long de la sourate, la puissance absolue d'Allah est mise en évidence. Que ce soit dans la scission de la lune, la destruction des peuples rebelles, ou la création et la résurrection, la sourate rappelle constamment que tout est sous le contrôle d'Allah. La phrase 'Nous avons créé toute chose avec mesure' souligne la précision et la sagesse dans la création divine. Cette emphase sur la puissance d'Allah sert à la fois d'avertissement pour les mécréants et de réconfort pour les croyants.";
            break;
          case "quran_significance":
            reflectionContent.innerHTML =
              "La sourate met en lumière l'importance du Coran comme un rappel et un avertissement. La répétition de 'Nous avons certes rendu le Coran facile pour la méditation' souligne l'accessibilité du message coranique et invite à sa réflexion profonde. Le Coran est présenté comme un guide clair, offrant des leçons à travers des histoires du passé et des avertissements sur l'avenir. La sourate encourage ainsi une interaction active avec le texte sacré, invitant les lecteurs et les auditeurs à méditer sur ses enseignements et à en tirer des leçons pour leur vie.";
            break;
          default:
            reflectionContent.innerHTML =
              "Cliquez sur un thème ci-dessus pour explorer son contenu dans la sourate Al-Qamar.";
        }
      }
    </script>
  </body>
</html>
