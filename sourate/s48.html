<html>
  <head>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sourate Al-Fath (La Victoire) - Exploration Interactive</title>
    <style>
      body {
        font-family: "Noto Sans", sans-serif;
        background-color: #f0f4f8;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #2c3e50;
      }
      h1,
      h2 {
        color: #34495e;
        text-align: center;
      }
      .container {
        background-color: #ffffff;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
        width: 90%;
        max-width: 800px;
      }
      .player-container {
        text-align: center;
        margin-bottom: 30px;
      }
      audio {
        width: 100%;
        margin-top: 15px;
      }
      .info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 20px;
      }
      .arabic {
        font-family: "Scheherazade", serif;
        font-size: 28px;
        margin-top: 15px;
        text-align: right;
        direction: rtl;
        line-height: 1.8;
      }
      .verse-container {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 15px;
      }
      .verse {
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid #ecf0f1;
      }
      .verse-number {
        font-weight: bold;
        color: #3498db;
        margin-right: 10px;
      }
      .translation {
        font-style: italic;
        color: #7f8c8d;
        margin-top: 10px;
      }
      #loading {
        text-align: center;
        color: #3498db;
        font-size: 18px;
        margin-top: 20px;
      }
      .navigation {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: 500px;
        margin-top: 30px;
      }
      .nav-button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }
      .nav-button:hover {
        background-color: #2980b9;
      }
      .interactive-section {
        background-color: #ecf0f1;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .interactive-item {
        background-color: #fff;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
        cursor: pointer;
      }
      .interactive-item:hover {
        transform: translateY(-5px);
      }
      .interactive-item h3 {
        margin-top: 0;
        color: #2c3e50;
      }
      .reflection-section {
        background-color: #e8f6f3;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .reflection-title {
        font-weight: bold;
        color: #16a085;
        margin-bottom: 10px;
      }
      #reflection-content {
        font-style: italic;
        color: #2c3e50;
      }
      #surah-visual {
        width: 100%;
        height: 200px;
        margin: 20px 0;
        border: 1px solid #bdc3c7;
        border-radius: 5px;
      }
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }
        .arabic {
          font-size: 24px;
        }
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Scheherazade:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Sourate Al-Fath (La Victoire)</h1>
    <div class="container">
      <div class="player-container">
        <h2>Écouter la récitation</h2>
        <audio controls>
          <source
            src="https://download.quranicaudio.com/quran/mishaari_raashid_al_3afaasee/048.mp3"
            type="audio/mpeg"
          />
          Votre navigateur ne supporte pas l'élément audio.
        </audio>
      </div>
      <div class="info">
        <p>Sourate Al-Fath - سورة الفتح</p>
        <p>Récitée par Mishary Rashid Alafasy</p>
        <p class="arabic">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
      </div>

      <svg
        id="surah-visual"
        viewBox="0 0 100 100"
        xmlns="http://www.w3.org/2000/svg"
      >
        <defs>
          <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color: #3498db; stop-opacity: 1" />
            <stop offset="100%" style="stop-color: #ecf0f1; stop-opacity: 1" />
          </linearGradient>
        </defs>
        <rect x="0" y="0" width="100" height="100" fill="url(#skyGradient)" />
        <path d="M0 80 Q25 70 50 80 T100 80 V100 H0 Z" fill="#27ae60" />
        <circle cx="80" cy="20" r="10" fill="#f1c40f">
          <animate
            attributeName="cy"
            values="20;18;20"
            dur="3s"
            repeatCount="indefinite"
          />
        </circle>
        <path
          d="M20 70 Q35 60 50 70 T80 70"
          fill="none"
          stroke="#2c3e50"
          stroke-width="2"
        >
          <animate
            attributeName="d"
            values="M20 70 Q35 60 50 70 T80 70;M20 72 Q35 62 50 72 T80 72;M20 70 Q35 60 50 70 T80 70"
            dur="3s"
            repeatCount="indefinite"
          />
        </path>
        <text
          x="50"
          y="40"
          font-family="Arial"
          font-size="8"
          fill="#fff"
          text-anchor="middle"
        >
          Al-Fath
        </text>
      </svg>

      <div class="interactive-section fade-in">
        <h2>Thèmes principaux de la sourate</h2>
        <div class="interactive-item" onclick="showReflection('victory')">
          <h3>1. La Victoire Promise</h3>
          <p>Annonce d'une victoire imminente pour les croyants.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('treaty')">
          <h3>2. Le Traité d'Hudaybiyyah</h3>
          <p>Contexte historique et importance du traité.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('allegiance')">
          <h3>3. L'Allégeance des Croyants</h3>
          <p>La promesse des fidèles au Prophète Muhammad.</p>
        </div>
        <div
          class="interactive-item"
          onclick="showReflection('divine_support')"
        >
          <h3>4. Le Soutien Divin</h3>
          <p>L'aide d'Allah aux croyants dans leur mission.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('description')">
          <h3>5. Description des Croyants</h3>
          <p>Caractéristiques des vrais fidèles mentionnées dans la sourate.</p>
        </div>
      </div>

      <div class="reflection-section fade-in">
        <h2 class="reflection-title">Réflexions sur la sourate Al-Fath</h2>
        <p id="reflection-content">
          Cliquez sur un thème ci-dessus pour explorer son contenu dans la
          sourate Al-Fath.
        </p>
      </div>

      <div class="verse-container">
        <h2>Lire les versets</h2>
        <div id="loading">Chargement des versets...</div>
        <div id="verses"></div>
      </div>
    </div>

    <div class="navigation">
      <a href="s47.html" class="nav-button"
        >Sourate précédente</a
      >
      <a href="s49.html" class="nav-button"
        >Sourate suivante</a
      >
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const audio = document.querySelector("audio");
        const versesContainer = document.getElementById("verses");
        const loadingElement = document.getElementById("loading");

        audio.addEventListener("play", function () {
          console.log("La récitation de la sourate Al-Fath a commencé");
        });

        audio.addEventListener("pause", function () {
          console.log(
            "La récitation de la sourate Al-Fath a été mise en pause"
          );
        });

        audio.addEventListener("ended", function () {
          console.log("La récitation de la sourate Al-Fath est terminée");
        });

        async function loadVerses() {
          try {
            const [arabicResponse, frenchResponse] = await Promise.all([
              axios.get("https://api.alquran.cloud/v1/surah/48"),
              axios.get("https://api.alquran.cloud/v1/surah/48/fr.hamidullah"),
            ]);

            const arabicVerses = arabicResponse.data.data.ayahs;
            const frenchVerses = frenchResponse.data.data.ayahs;

            loadingElement.style.display = "none";

            arabicVerses.forEach((verse, index) => {
              const verseElement = document.createElement("div");
              verseElement.className = "verse fade-in";
              verseElement.innerHTML = `
                        <p class="arabic"><span class="verse-number">${verse.numberInSurah}.</span> ${verse.text}</p>
                        <p class="translation">${frenchVerses[index].text}</p>
                    `;
              versesContainer.appendChild(verseElement);
            });

            // Trigger fade-in effect for verses
            setTimeout(() => {
              document
                .querySelectorAll(".verse")
                .forEach((el) => el.classList.add("visible"));
            }, 100);
          } catch (error) {
            console.error("Erreur lors du chargement des versets:", error);
            loadingElement.textContent =
              "Erreur lors du chargement des versets. Veuillez réessayer.";
          }
        }

        loadVerses();

        // Intersection Observer for fade-in effect
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          { threshold: 0.1 }
        );

        document
          .querySelectorAll(".fade-in")
          .forEach((el) => observer.observe(el));
      });

      function showReflection(theme) {
        const reflectionContent = document.getElementById("reflection-content");
        switch (theme) {
          case "victory":
            reflectionContent.innerHTML =
              "La sourate Al-Fath s'ouvre sur l'annonce d'une victoire éclatante accordée par Allah au Prophète Muhammad (paix sur lui). Cette victoire fait référence à plusieurs événements, notamment la conclusion du traité de Hudaybiyyah, qui a ouvert la voie à l'expansion de l'Islam. La victoire promise n'est pas seulement militaire, mais aussi spirituelle et morale, soulignant l'accomplissement de la mission prophétique et la propagation du message divin.";
            break;
          case "treaty":
            reflectionContent.innerHTML =
              "Le traité de Hudaybiyyah, conclu en l'an 6 de l'Hégire, est un événement crucial dans l'histoire de l'Islam. Bien qu'initialement perçu comme un compromis défavorable par certains musulmans, ce traité s'est révélé être une victoire stratégique. Il a permis une période de paix qui a facilité la propagation de l'Islam, l'augmentation du nombre de convertis, et a préparé le terrain pour la conquête future de La Mecque. La sourate Al-Fath met en lumière la sagesse divine derrière ce traité apparemment modeste.";
            break;
          case "allegiance":
            reflectionContent.innerHTML =
              "La sourate évoque l'allégeance (bay'ah) que les croyants ont prêtée au Prophète Muhammad sous un arbre à Hudaybiyyah. Cet acte d'engagement, connu sous le nom de 'Bay'at al-Ridwan', est loué par Allah comme un signe de foi sincère et de loyauté. Cette allégeance symbolise l'unité de la communauté musulmane, sa détermination à suivre le Prophète, et la promesse divine de récompense pour cette fidélité. Elle souligne l'importance de l'engagement et de la solidarité dans la foi islamique.";
            break;
          case "divine_support":
            reflectionContent.innerHTML =
              "Un thème récurrent dans la sourate Al-Fath est le soutien divin accordé aux croyants. Allah promet Son aide et Sa protection aux fidèles qui suivent le Prophète Muhammad. Ce soutien se manifeste de diverses manières : victoires militaires, guidance spirituelle, renforcement de la foi, et apaisement des cœurs. La sourate rappelle que la véritable force vient d'Allah et que la confiance en Lui est essentielle pour surmonter les défis et accomplir la mission de l'Islam.";
            break;
          case "description":
            reflectionContent.innerHTML =
              "La sourate Al-Fath offre une description éloquente des qualités des vrais croyants. Elle les dépeint comme étant fermes face aux mécréants, mais compatissants entre eux. Leur marque distinctive est décrite comme étant visible sur leurs visages, résultat de leur prosternation fréquente. Cette description met l'accent sur l'importance de la piété intérieure qui se reflète dans le comportement extérieur, encourageant les musulmans à cultiver ces qualités de foi, de compassion et de dévotion.";
            break;
          default:
            reflectionContent.innerHTML =
              "Cliquez sur un thème ci-dessus pour explorer son contenu dans la sourate Al-Fath.";
        }
      }
    </script>
  </body>
</html>
