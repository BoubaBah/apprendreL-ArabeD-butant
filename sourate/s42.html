<html>
  <head>
    
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sourate Ash-Shura (La Consultation) - Exploration Interactive</title>
    <style>
      body {
        font-family: "Noto Sans", sans-serif;
        background-color: #f0f4f8;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: #2c3e50;
      }
      h1,
      h2 {
        color: #34495e;
        text-align: center;
      }
      .container {
        background-color: #ffffff;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        margin-top: 20px;
        width: 90%;
        max-width: 800px;
      }
      .player-container {
        text-align: center;
        margin-bottom: 30px;
      }
      audio {
        width: 100%;
        margin-top: 15px;
      }
      .info {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 20px;
      }
      .arabic {
        font-family: "Scheherazade", serif;
        font-size: 28px;
        margin-top: 15px;
        text-align: right;
        direction: rtl;
        line-height: 1.8;
      }
      .verse-container {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 15px;
      }
      .verse {
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid #ecf0f1;
      }
      .verse-number {
        font-weight: bold;
        color: #3498db;
        margin-right: 10px;
      }
      .translation {
        font-style: italic;
        color: #7f8c8d;
        margin-top: 10px;
      }
      #loading {
        text-align: center;
        color: #3498db;
        font-size: 18px;
        margin-top: 20px;
      }
      .navigation {
        display: flex;
        justify-content: space-between;
        width: 100%;
        max-width: 500px;
        margin-top: 30px;
      }
      .nav-button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        text-decoration: none;
        transition: background-color 0.3s ease;
      }
      .nav-button:hover {
        background-color: #2980b9;
      }
      .interactive-section {
        background-color: #e8f6ff;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .interactive-item {
        background-color: #fff;
        border-radius: 5px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
        cursor: pointer;
      }
      .interactive-item:hover {
        transform: translateY(-5px);
      }
      .interactive-item h3 {
        margin-top: 0;
        color: #2c3e50;
      }
      #shura-canvas {
        width: 100%;
        height: 300px;
        margin: 20px 0;
        border: 1px solid #ddd;
        border-radius: 5px;
      }
      .reflection-section {
        background-color: #e8f8f5;
        border-radius: 10px;
        padding: 20px;
        margin-top: 30px;
      }
      .reflection-title {
        font-weight: bold;
        color: #16a085;
        margin-bottom: 10px;
      }
      #reflection-content {
        font-style: italic;
        color: #34495e;
      }
      @media (max-width: 600px) {
        .container {
          padding: 20px;
        }
        .arabic {
          font-size: 24px;
        }
      }
      .fade-in {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.5s ease, transform 0.5s ease;
      }
      .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Scheherazade:wght@400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <h1>Sourate Ash-Shura (La Consultation)</h1>
    <div class="container">
      <div class="player-container">
        <h2>Écouter la récitation</h2>
        <audio controls>
          <source
            src="https://download.quranicaudio.com/quran/mishaari_raashid_al_3afaasee/042.mp3"
            type="audio/mpeg"
          />
          Votre navigateur ne supporte pas l'élément audio.
        </audio>
      </div>
      <div class="info">
        <p>Sourate Ash-Shura - سورة الشورى</p>
        <p>Récitée par Mishary Rashid Alafasy</p>
        <p class="arabic">بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ</p>
      </div>

      <canvas id="shura-canvas"></canvas>

      <div class="interactive-section fade-in">
        <h2>Thèmes principaux de la sourate</h2>
        <div class="interactive-item" onclick="showReflection('revelation')">
          <h3>1. La révélation divine</h3>
          <p>L'importance et l'universalité du message divin.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('unity')">
          <h3>2. L'unité des religions</h3>
          <p>La continuité du message divin à travers les prophètes.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('consultation')">
          <h3>3. La consultation (Shura)</h3>
          <p>L'importance de la consultation dans les affaires.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('forgiveness')">
          <h3>4. Le pardon et la patience</h3>
          <p>L'encouragement à pardonner et à être patient.</p>
        </div>
        <div class="interactive-item" onclick="showReflection('divine_power')">
          <h3>5. La puissance divine</h3>
          <p>Les manifestations de la puissance d'Allah dans la création.</p>
        </div>
      </div>

      <div class="reflection-section fade-in">
        <h2 class="reflection-title">Réflexions sur Ash-Shura</h2>
        <p id="reflection-content">
          Cliquez sur un thème ci-dessus pour explorer son contenu dans la
          sourate Ash-Shura.
        </p>
      </div>

      <div class="verse-container">
        <h2>Lire les versets</h2>
        <div id="loading">Chargement des versets...</div>
        <div id="verses"></div>
      </div>
    </div>

    <div class="navigation">
      <a href="s41.html" class="nav-button"
        >Sourate précédente</a
      >
      <a href="s43.html" class="nav-button"
        >Sourate suivante</a
      >
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const audio = document.querySelector("audio");
        const versesContainer = document.getElementById("verses");
        const loadingElement = document.getElementById("loading");
        const canvas = document.getElementById("shura-canvas");
        const ctx = canvas.getContext("2d");

        // Set canvas size
        canvas.width = canvas.offsetWidth;
        canvas.height = canvas.offsetHeight;

        // Shura animation
        function drawShura() {
          ctx.clearRect(0, 0, canvas.width, canvas.height);

          // Draw background
          const gradient = ctx.createLinearGradient(
            0,
            0,
            canvas.width,
            canvas.height
          );
          gradient.addColorStop(0, "#2ecc71");
          gradient.addColorStop(1, "#27ae60");
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, canvas.width, canvas.height);

          // Draw consultation circle
          const centerX = canvas.width / 2;
          const centerY = canvas.height / 2;
          const radius = Math.min(canvas.width, canvas.height) / 4;

          ctx.beginPath();
          ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
          ctx.strokeStyle = "white";
          ctx.lineWidth = 3;
          ctx.stroke();

          // Draw pulsating dots representing consultation
          const dotCount = 8;
          const time = Date.now() * 0.001;

          for (let i = 0; i < dotCount; i++) {
            const angle = (i / dotCount) * Math.PI * 2;
            const x = centerX + Math.cos(angle) * radius;
            const y = centerY + Math.sin(angle) * radius;

            const pulseSize = Math.sin(time + i) * 3 + 5;

            ctx.beginPath();
            ctx.arc(x, y, pulseSize, 0, Math.PI * 2);
            ctx.fillStyle = "white";
            ctx.fill();
          }

          // Draw connecting lines
          ctx.beginPath();
          for (let i = 0; i < dotCount; i++) {
            const angle1 = (i / dotCount) * Math.PI * 2;
            const x1 = centerX + Math.cos(angle1) * radius;
            const y1 = centerY + Math.sin(angle1) * radius;

            for (let j = i + 1; j < dotCount; j++) {
              const angle2 = (j / dotCount) * Math.PI * 2;
              const x2 = centerX + Math.cos(angle2) * radius;
              const y2 = centerY + Math.sin(angle2) * radius;

              ctx.moveTo(x1, y1);
              ctx.lineTo(x2, y2);
            }
          }
          ctx.strokeStyle = "rgba(255, 255, 255, 0.3)";
          ctx.stroke();

          requestAnimationFrame(drawShura);
        }

        drawShura();

        audio.addEventListener("play", function () {
          console.log("La récitation de la sourate Ash-Shura a commencé");
        });

        audio.addEventListener("pause", function () {
          console.log(
            "La récitation de la sourate Ash-Shura a été mise en pause"
          );
        });

        audio.addEventListener("ended", function () {
          console.log("La récitation de la sourate Ash-Shura est terminée");
        });

        async function loadVerses() {
          try {
            const [arabicResponse, frenchResponse] = await Promise.all([
              axios.get("https://api.alquran.cloud/v1/surah/42"),
              axios.get("https://api.alquran.cloud/v1/surah/42/fr.hamidullah"),
            ]);

            const arabicVerses = arabicResponse.data.data.ayahs;
            const frenchVerses = frenchResponse.data.data.ayahs;

            loadingElement.style.display = "none";

            arabicVerses.forEach((verse, index) => {
              const verseElement = document.createElement("div");
              verseElement.className = "verse fade-in";
              verseElement.innerHTML = `
                        <p class="arabic"><span class="verse-number">${verse.numberInSurah}.</span> ${verse.text}</p>
                        <p class="translation">${frenchVerses[index].text}</p>
                    `;
              versesContainer.appendChild(verseElement);
            });

            // Trigger fade-in effect for verses
            setTimeout(() => {
              document
                .querySelectorAll(".verse")
                .forEach((el) => el.classList.add("visible"));
            }, 100);
          } catch (error) {
            console.error("Erreur lors du chargement des versets:", error);
            loadingElement.textContent =
              "Erreur lors du chargement des versets. Veuillez réessayer.";
          }
        }

        loadVerses();

        // Intersection Observer for fade-in effect
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible");
              }
            });
          },
          { threshold: 0.1 }
        );

        document
          .querySelectorAll(".fade-in")
          .forEach((el) => observer.observe(el));
      });

      function showReflection(theme) {
        const reflectionContent = document.getElementById("reflection-content");
        switch (theme) {
          case "revelation":
            reflectionContent.innerHTML =
              "La sourate Ash-Shura souligne l'importance de la révélation divine comme guide pour l'humanité. Elle rappelle que le message apporté par le Prophète Muhammad (paix soit sur lui) s'inscrit dans la continuité des révélations précédentes, formant un message universel et intemporel. Cette sourate invite à réfléchir sur la sagesse divine derrière ces révélations et leur rôle crucial dans la guidance de l'humanité.";
            break;
          case "unity":
            reflectionContent.innerHTML =
              "Un thème central de la sourate est l'unité fondamentale des religions révélées. Elle met en avant que tous les prophètes, d'Adam à Muhammad (paix soit sur eux), ont transmis le même message essentiel : l'adoration d'Allah et la pratique de la vertu. Cette perspective encourage la compréhension mutuelle et le respect entre les différentes communautés religieuses, tout en soulignant l'importance de l'Islam comme message final et complet.";
            break;
          case "consultation":
            reflectionContent.innerHTML =
              "La sourate tire son nom du concept de 'Shura' (consultation), un principe fondamental dans la gouvernance islamique et dans la vie sociale. Elle encourage les croyants à prendre des décisions en se consultant mutuellement, promouvant ainsi la sagesse collective, la participation et la responsabilité partagée. Ce principe s'applique tant dans les affaires publiques que privées, soulignant l'importance du dialogue et de la concertation dans la résolution des problèmes.";
            break;
          case "forgiveness":
            reflectionContent.innerHTML =
              "Ash-Shura met l'accent sur l'importance du pardon et de la patience dans les relations humaines. Elle encourage les croyants à pardonner les offenses et à faire preuve de patience face à l'adversité. La sourate présente ces qualités comme des vertus essentielles, non seulement pour maintenir l'harmonie sociale, mais aussi pour le développement spirituel individuel. Elle rappelle que le pardon et la patience sont des attributs divins que les croyants devraient s'efforcer d'émuler.";
            break;
          case "divine_power":
            reflectionContent.innerHTML =
              "La sourate offre de nombreuses réflexions sur la puissance et la sagesse d'Allah manifestées dans la création. Elle invite à contempler les merveilles de l'univers comme signes de la grandeur divine, de la pluie qui fait revivre la terre aux navires qui voguent sur la mer. Ces passages visent à éveiller un sentiment d'émerveillement et de gratitude envers le Créateur, tout en renforçant la foi en Sa toute-puissance et Sa miséricorde.";
            break;
          default:
            reflectionContent.innerHTML =
              "Cliquez sur un thème ci-dessus pour explorer son contenu dans la sourate Ash-Shura.";
        }
      }
    </script>
  </body>
</html>
